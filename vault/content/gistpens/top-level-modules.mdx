---
tags:
  - inbox
  - web
  - snippet
title: Top-Level Modules
description: ""
slug: gistpens/top-level-modules
published_at: 2021-01-16T20:47:23.000Z
updated_at: 2021-01-16T20:47:23.000Z
status: publish
---
```jsx title="WidgetView.jsx"
import React from "react";
import { getWidgets, createWidget } from "../widget";

export const WidgetView = ({ widgets }) => {
  const [widgets, setWidgets] = useState([]);

  useEffect(() => {
    getWidgets().then((widgets) => setWidgets(widgets));
  }, []);

  const onButtonClick = async () => {
    await createWidget();
    const widgets = await getWidgets();
    setWidget(widget);
  };

  return (
    <>
      <ul>
        {widgets.map((widget) => (
          <li key={widget.id}>{widget.name}</li>
        ))}
      </ul>
      <button onClick={onButtonClick}>Add widget</button>
    </>
  );
};
```

^WidgetView-jsx

```js title="index.js"
// src/widget/index.js
export { Widget } from "./Widget.js";
export { getWidgets, createWidget, updateWidget, deleteWidget } from "./api.js";
export { encoder, decoder } from "./schema.js";
```

^index-js
