<div id="__next"><div class="flex flex-row"><div class="print:hidden h-screen w-0 xl:w-88" style="width: 352px;"><header class="flex flex-col print:hidden fixed h-screen overflow-hidden w-inherit"><div class="h-screen overflow-hidden relative"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="background image" sizes="100vw" srcset="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=640&amp;q=75 640w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=750&amp;q=75 750w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=828&amp;q=75 828w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=1080&amp;q=75 1080w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=1200&amp;q=75 1200w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=1920&amp;q=75 1920w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=2048&amp;q=75 2048w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=3840&amp;q=75 3840w" src="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;object-position:center center"><noscript><img alt="background image" sizes="100vw" srcSet="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=640&amp;q=75 640w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=750&amp;q=75 750w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=828&amp;q=75 828w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=1080&amp;q=75 1080w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=1200&amp;q=75 1200w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=1920&amp;q=75 1920w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=2048&amp;q=75 2048w, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=3840&amp;q=75 3840w" src="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2020%2F11%2Fheader-1.jpg&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;object-position:center center" loading="lazy"/></noscript></span></div><div class="absolute bg-etched rounded-lg text-center inline-flex lg:flex flex-row items-center justify-center lg:justify-start w-full max-w-xs sm:max-w-sm lg:max-w-md pin-center -mt-8 m-auto w-full"><div class="flex flex-row items-center justify-center w-full p-2"><div class="w-0 lg:w-48 h-48 rounded-full overflow-hidden flex-grow-0 transition-width ease-in-out lg:w-0"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYwIiBoZWlnaHQ9IjM2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="></span><img alt="avatar" srcset="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2015%2F02%2Fnew-avatar-sq.jpg&amp;w=384&amp;q=75 1x, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2015%2F02%2Fnew-avatar-sq.jpg&amp;w=750&amp;q=75 2x" src="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2015%2F02%2Fnew-avatar-sq.jpg&amp;w=750&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"><noscript><img alt="avatar" srcSet="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2015%2F02%2Fnew-avatar-sq.jpg&amp;w=384&amp;q=75 1x, /_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2015%2F02%2Fnew-avatar-sq.jpg&amp;w=750&amp;q=75 2x" src="/_next/image/?url=https%3A%2F%2Fstatic.jamesdigioia.com%2Fuploads%2F2015%2F02%2Fnew-avatar-sq.jpg&amp;w=750&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div class="font-muli lg:ml-5 flex-grow"><div class="text-4xl lg:text-5xl font-bold font-muli mb-3" data-typeit-id="0722185">James DiGioia<span class="ti-cursor" style="visibility: hidden;"></span></div><div class="text-xl md:text-3xl mb-3 flex flex-row align-center justify-center text-center"><a class="border-2 border-transparent focus:border-primary focus:outline-none" href="https://www.facebook.com/james.digioia" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="text-4xl" style="color:#3b5998" alt="Facebook" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></a><a class="border-2 border-transparent focus:border-primary focus:outline-none" href="https://www.linkedin.com/in/jamesdigioia" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="text-4xl" style="color:#4875b4" alt="LinkedIn" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a class="border-2 border-transparent focus:border-primary focus:outline-none" href="https://github.com/mAAdhaTTah/" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="text-4xl" style="color:#333" alt="GitHub" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg></a></div><div class="relative text-xl lg:text-3xl" data-typeit-id="3512468">my little web home<span class="ti-cursor" style="visibility: hidden;"></span></div></div></div></div></header><div class="fixed top-2 left-2 z-50"><button class="rounded-full bg-darkg text-secondary p-1 border-2 border-darkg focus:outline-none focus:border-lightg"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="text-lg" alt="" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg><div style="border:0;clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;margin:0 -1px -1px 0;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap">Open menu</div></button></div></div><div class="relative flex-grow"><div style="opacity:1" class="absolute w-full"><article class="p-5 flow-root rounded pb-3 mb-5 max-w-xl mx-auto bg-primary"><header class="relative mb-5"><img src="https://static.jamesdigioia.com/uploads/2020/04/react-testing-kit-example.jpg" alt="Example code for react-testing-kit" class=""><div class="absolute pin-x-center pin-y-bottom w-full bg-etched rounded p-5"><div class="text-center"><h1 class="text-4xl text-lightg font-muli mb-5">React Testing Tip: Reduce test duplication with a component render function</h1></div><div class="flex justify-center"><div class="flex-grow-0 entry-meta my-2 flex items-center rounded bg-secondary p-3 mb-3"><time class="font-body published" datetime="2020-04-27T08:56:00">April 27th, 2020</time><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="mx-3 w-1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"></path></svg><p class="font-body">James DiGioia</p></div></div></div></header><section class="max-w-prose"><p class="font-ovo text-xl leading-normal pb-3">Whenever you write new tests for your React components, you’ll probably find your tests reusing the same interactions as tests you’ve already written. In multiple tests, you’ll click a button or change an input and assert that the React component you’re testing updates as expected. This comes up often enough when testing that I like to start my tests by making those interactions reusable. Let’s look at how we can do that.</p>
<h2 class="mb-5 font-muli text-3xl">Basic Tests</h2>
<p class="font-ovo text-xl leading-normal pb-3">For testing React component, I use <a class="no-underline border-b-2 border-darkg" href="https://jestjs.io/">Jest</a> &amp; <a class="no-underline border-b-2 border-darkg" href="https://testing-library.com/docs/react-testing-library/intro">@testing-library/react</a>. For this example, we’re going to be testing this basic form:</p>
<p class="font-ovo text-xl leading-normal pb-3"></p><div class="mb-5"><div class="code-toolbar"><pre class="line-numbers language-jsx" data-filename="form.js"><code class="language-jsx"><span class="token keyword">import</span><span class="token space"> </span>React<span class="token space"> </span><span class="token keyword">from</span><span class="token space"> </span><span class="token string">'react'</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token keyword">export</span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token function-variable function">Form</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token punctuation">[</span>value<span class="token punctuation">,</span><span class="token space"> </span>setValue<span class="token punctuation">]</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token function-variable function">onSubmit</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span>e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">if</span><span class="token space"> </span><span class="token punctuation">(</span>value<span class="token space"> </span><span class="token operator">===</span><span class="token space"> </span><span class="token string">''</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function">submit</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token punctuation">}</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">return</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token space"> </span><span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token space"> </span><span class="token attr-name">htmlFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Type</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span><span class="token space"> </span><span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span><span class="token space"> </span><span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token space"> </span><span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>e<span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token function">setValue</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token space"> </span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Submit</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  );
};</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><button type="button">Copy</button></div><div class="toolbar-item"><span>form.js</span></div></div></div></div><p class="font-ovo text-xl leading-normal pb-3"></p>
<p class="font-ovo text-xl leading-normal pb-3">We need to write at least 2 tests for this. First, we’ll attempt to submit the form immediately and check that it fails because the form does not have a value yet. Then we’ll test changing the value in the form and then submit it, and it should succeed with the value. Let’s take a look:</p>
<p class="font-ovo text-xl leading-normal pb-3"></p><div class="mb-5"><div class="code-toolbar"><pre class="line-numbers language-jsx" data-filename="form.spec.js"><code class="language-jsx"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Form'</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should<span class="token space"> </span>not<span class="token space"> </span>submit<span class="token space"> </span>the<span class="token space"> </span>form<span class="token space"> </span>with<span class="token space"> </span>an<span class="token space"> </span>empty<span class="token space"> </span>value'</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span>jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>getByText<span class="token space"> </span><span class="token punctuation">}</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span><span class="token space"> </span><span class="token attr-name">submit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>submit<span class="token punctuation">}</span></span><span class="token space"> </span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">);

    fireEvent.click(getByText('Submit'));

    expect(submit).toHaveBeenCalledTimes(0);
  });

  it('should submit the form with value', () =&gt; {
    const submit = jest.fn();
    const value = 'a value';
    const { getByText, getByLabelText } = render(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span><span class="token space"> </span><span class="token attr-name">submit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>submit<span class="token punctuation">}</span></span><span class="token space"> </span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">);

    fireEvent.change(getByLabelText('Type'), { target: { value } });
    fireEvent.click(getByText('Submit'));

    expect(submit).toHaveBeenCalledTimes(1);
    expect(submit).toHaveBeenCalledWith(value);
  });
});</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><button type="button">Copy</button></div><div class="toolbar-item"><span>form.spec.js</span></div></div></div></div><p class="font-ovo text-xl leading-normal pb-3"></p>
<p class="font-ovo text-xl leading-normal pb-3">In both tests, we create a mock function with <code class="whitespace-nowrap">jest.fn()</code> to provide to the rendered <code class="whitespace-nowrap">Form</code> component. In the first test, we assert that this mock function has not been called, as we don’t want an empty value sent to the <code class="whitespace-nowrap">submit</code> function. In the second test, we first change the value in the form field then submit the form. This time, we succeed, as we have a valid value in the form.</p>
<h2 class="mb-5 font-muli text-3xl">Writing a render function</h2>
<p class="font-ovo text-xl leading-normal pb-3">These are small tests, but we already see some duplication. The <code class="whitespace-nowrap">button</code> is queried with the same code twice, the <code class="whitespace-nowrap">change</code> call is verbose, and <code class="whitespace-nowrap">render</code> is the same in both tests. All of this would be more readable if we had reusable functions for all of it. Let’s create a <code class="whitespace-nowrap">renderForm</code> function that will reduce this duplication:</p>
<p class="font-ovo text-xl leading-normal pb-3"></p><div class="mb-5"><div class="code-toolbar"><pre class="line-numbers language-jsx" data-filename="renderForm.js"><code class="language-jsx"><span class="token keyword">const</span><span class="token space"> </span><span class="token function-variable function">renderForm</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token parameter">props</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>getByText<span class="token punctuation">,</span><span class="token space"> </span>getByLabelText<span class="token space"> </span><span class="token punctuation">}</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span><span class="token space"> </span><span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span><span class="token space"> </span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">);

  const getButton = () =&gt; getByText('Submit');
  const getInput = () =&gt; getByLabelText('Type');

  const fireButtonClick = () =&gt; fireEvent.click(getButton());
  const fireInputChange = value =&gt; fireEvent.change(getInput(), { target: { value } });

  return { getButton, getInput, fireButtonClick, fireInputChange };
};</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><button type="button">Copy</button></div><div class="toolbar-item"><span>renderForm.js</span></div></div></div></div><p class="font-ovo text-xl leading-normal pb-3"></p>
<p class="font-ovo text-xl leading-normal pb-3">All of the repeated logic is bundled up in named functions and we can use it like this:</p>
<p class="font-ovo text-xl leading-normal pb-3"></p><div class="mb-5"><div class="code-toolbar"><pre class="line-numbers language-jsx" data-filename="Form-with-renderForm.spec.js"><code class="language-jsx"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Form'</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should<span class="token space"> </span>not<span class="token space"> </span>submit<span class="token space"> </span>the<span class="token space"> </span>form<span class="token space"> </span>with<span class="token space"> </span>an<span class="token space"> </span>empty<span class="token space"> </span>value'</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span>jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>fireButtonClick<span class="token space"> </span><span class="token punctuation">}</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">renderForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function">fireButtonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function">expect</span><span class="token punctuation">(</span>submit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should<span class="token space"> </span>submit<span class="token space"> </span>the<span class="token space"> </span>form<span class="token space"> </span>with<span class="token space"> </span>value'</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span>jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span>value<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token string">'a<span class="token space"> </span>value'</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>fireInputChange<span class="token punctuation">,</span><span class="token space"> </span>fireButtonClick<span class="token space"> </span><span class="token punctuation">}</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">renderForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function">fireInputChange</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function">fireButtonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function">expect</span><span class="token punctuation">(</span>submit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function">expect</span><span class="token punctuation">(</span>submit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledWith</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><button type="button">Copy</button></div><div class="toolbar-item"><span>Form-with-renderForm.spec.js</span></div></div></div></div><p class="font-ovo text-xl leading-normal pb-3"></p>
<p class="font-ovo text-xl leading-normal pb-3">These tests provide a much clearer explanation of what is supposed to happen, and we could easily add a third test if we wanted to confirm changing back to an empty string still results in <code class="whitespace-nowrap">submit</code> not being called:</p>
<p class="font-ovo text-xl leading-normal pb-3"></p><div class="mb-5"><div class="code-toolbar"><pre class="line-numbers language-jsx" data-filename="Form-extra-test.spec.js"><code class="language-jsx"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should<span class="token space"> </span>not<span class="token space"> </span>submit<span class="token space"> </span>the<span class="token space"> </span>form<span class="token space"> </span>if<span class="token space"> </span>value<span class="token space"> </span>changed<span class="token space"> </span>to<span class="token space"> </span>empty<span class="token space"> </span>string'</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span>jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span>value<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token string">'a<span class="token space"> </span>value'</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>fireInputChange<span class="token punctuation">,</span><span class="token space"> </span>fireButtonClick<span class="token space"> </span><span class="token punctuation">}</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">renderForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token space"> </span>submit<span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">fireInputChange</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">fireInputChange</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">fireButtonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">expect</span><span class="token punctuation">(</span>submit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><button type="button">Copy</button></div><div class="toolbar-item"><span>Form-extra-test.spec.js</span></div></div></div></div><p class="font-ovo text-xl leading-normal pb-3"></p>
<p class="font-ovo text-xl leading-normal pb-3">Now we’re really starting to see the benefits of this render function! Less code duplication, as we can reuse these <code class="whitespace-nowrap">fire</code> functions, but more importantly, if the way we need to query the element changes, we only have to change it one place. If we decided to change the label on the <code class="whitespace-nowrap">input</code> field (which we should, because "Type" isn’t very descriptive), we only have to change it in the <code class="whitespace-nowrap">renderForm</code> function.</p>
<h2 class="mb-5 font-muli text-3xl">Introducing <code class="whitespace-nowrap">react-testing-kit</code></h2>
<p class="font-ovo text-xl leading-normal pb-3">Because this pattern has been so useful to me, I created a package to make creating them easier called <a class="no-underline border-b-2 border-darkg" href="https://github.com/mAAdhaTTah/react-testing-kit">react-testing-kit</a>. Let’s take a look at how we can simplify this code with it:</p>
<p class="font-ovo text-xl leading-normal pb-3"></p><div class="mb-5"><div class="code-toolbar"><pre class="line-numbers language-jsx" data-filename="renderForm-rtk.js"><code class="language-jsx"><span class="token keyword">const</span><span class="token space"> </span>renderForm<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">createRender</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function-variable function">defaultProps</span><span class="token operator">:</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token space"> </span>submit<span class="token operator">:</span><span class="token space"> </span>jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span>component<span class="token operator">:</span><span class="token space"> </span>Form<span class="token punctuation">,</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function-variable function">elements</span><span class="token operator">:</span><span class="token space"> </span><span class="token parameter">queries</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function-variable function">button</span><span class="token operator">:</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span>queries<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Submit'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function-variable function">input</span><span class="token operator">:</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span>queries<span class="token punctuation">.</span><span class="token function">getByLabelText</span><span class="token punctuation">(</span><span class="token string">'Type'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function-variable function">fire</span><span class="token operator">:</span><span class="token space"> </span><span class="token parameter">elements</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function-variable function">buttonClick</span><span class="token operator">:</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span>fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>elements<span class="token punctuation">.</span><span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token space"> </span><span class="token function-variable function">inputChange</span><span class="token operator">:</span><span class="token space"> </span><span class="token parameter">value</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span>fireEvent<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span>elements<span class="token punctuation">.</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>target<span class="token operator">:</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>value<span class="token space"> </span><span class="token punctuation">}</span><span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token lf">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><button type="button">Copy</button></div><div class="toolbar-item"><span>renderForm-rtk.js</span></div></div></div></div><p class="font-ovo text-xl leading-normal pb-3"></p>
<p class="font-ovo text-xl leading-normal pb-3">RTK passes <code class="whitespace-nowrap">elements</code> created in that function to the <code class="whitespace-nowrap">fire</code> function and returns the result of all of those functions when you create a new instance. Let’s update the last test to use this function:</p>
<p class="font-ovo text-xl leading-normal pb-3"></p><div class="mb-5"><div class="code-toolbar"><pre class="line-numbers language-jsx" data-filename="Form-rtk.spec.js"><code class="language-jsx"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should<span class="token space"> </span>not<span class="token space"> </span>submit<span class="token space"> </span>the<span class="token space"> </span>form<span class="token space"> </span>if<span class="token space"> </span>value<span class="token space"> </span>changed<span class="token space"> </span>to<span class="token space"> </span>empty<span class="token space"> </span>string'</span><span class="token punctuation">,</span><span class="token space"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token space"> </span><span class="token operator">=&gt;</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span>value<span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token string">'a<span class="token space"> </span>value'</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token keyword">const</span><span class="token space"> </span><span class="token punctuation">{</span><span class="token space"> </span>fire<span class="token punctuation">,</span><span class="token space"> </span>props<span class="token space"> </span><span class="token punctuation">}</span><span class="token space"> </span><span class="token operator">=</span><span class="token space"> </span><span class="token function">renderForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span>fire<span class="token punctuation">.</span><span class="token function">inputChange</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span>fire<span class="token punctuation">.</span><span class="token function">inputChange</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span>fire<span class="token punctuation">.</span><span class="token function">buttonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token lf">
</span><span class="token space"> </span><span class="token space"> </span><span class="token function">expect</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>submit<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token lf">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><button type="button">Copy</button></div><div class="toolbar-item"><span>Form-rtk.spec.js</span></div></div></div></div><p class="font-ovo text-xl leading-normal pb-3"></p>
<p class="font-ovo text-xl leading-normal pb-3">Very similar but less boilerplate.</p>
<h2 class="mb-5 font-muli text-3xl">Conclusion</h2>
<p class="font-ovo text-xl leading-normal pb-3">We can simplify all of our tests with <a class="no-underline border-b-2 border-darkg" href="https://github.com/mAAdhaTTah/react-testing-kit">react-testing-kit</a>. If this looks like it would improve your code, <a class="no-underline border-b-2 border-darkg" href="https://testing-library.com/docs/react-testing-library/intro">check out the project</a> and let me know what you think!</p>
</section></article></div></div></div></div>